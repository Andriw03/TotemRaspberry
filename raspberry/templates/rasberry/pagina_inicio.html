{% load static %}

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Demo</title>
    <link rel="stylesheet" href="{% static 'css\paginaInicio.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
  </head>
  <header class="p-3 text-bg-dark">
    <div class="nav justify-content-center">
      <img src="{% static 'imagenes\logoCodelco.png' %}" alt="">
    </div>
  </header>
  <body>
    <!-- Button trigger modal -->


  
    <form method="post">
    {% csrf_token %}
    <div class="d-grid gap-2 col-6 mt-5 mx-auto p-3 bg-info bg-opacity-10 border border-info border-0 rounded-end">
      <input type="submit" id="btnEntrada" class="btn btn-dark mb-5" data-bs-toggle="modal" data-bs-target="#exampleModal1" name="entrada" value="Entrada">
      <input type="submit" id="btnSalida"  class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#exampleModal2" name="salida" value="Salida">
  
  </div>
    </form>
    <script type="text/javascript"> 
      console.log('entro al script');
const Gpio = require("onoff").Gpio;
const pushBottonIn = new Gpio(23,"in","both");
const pushBottonOut = new Gpio(24, "in","both");
const entrada = document.getElementByID('btnEntrada');
pushBottonIn.watch(( err , value ) =>{
  console.log("chao uwu");
  if(err){
    console.log("hay un error uwu", err);
    return;
  }
  
})
pushBottonOut.watch(function( err , value )  {
  console.log("hola");
  if(err){
    console.log("hay un error uwu", err);
    return;
  }
  
});
entrada.addEventListener('click',()=>{
    console.log('se clickeo entrada');
    
});
    </script>
    <script src="{% static 'js\script_boton.js' %}"></script>
    <!-- Modal -->
  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Leyendo Tarjeta</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            
            <div class="progress bg-secondary">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
              </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary">Guardar</button>
        </div>
      </div>
    </div>
  </div>
  <footer class="position-absolute bottom-0 end-0 p-3 text-bg-dark w-100" >
    <div class="nav justify-content-center">
      <img src="{% static 'imagenes\logoDavte-small.png' %}" alt="">
    </div>
  </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  </body>
</html>
